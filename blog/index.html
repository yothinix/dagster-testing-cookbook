<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Blog | Dagster Testing Cookbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dagster-cookbook.yothinix.com/blog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | Dagster Testing Cookbook"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dagster-cookbook.yothinix.com/blog"><link data-rh="true" rel="alternate" href="https://dagster-cookbook.yothinix.com/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://dagster-cookbook.yothinix.com/blog" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Dagster Testing Cookbook RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Dagster Testing Cookbook Atom Feed"><link rel="stylesheet" href="/assets/css/styles.e4acff0d.css">
<link rel="preload" href="/assets/js/runtime~main.40ef6a86.js" as="script">
<link rel="preload" href="/assets/js/main.7f46a8f6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Dagster Testing Cookbook Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Dagster Testing Cookbook Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Dagster Testing Cookbook</b></a><a class="navbar__item navbar__link" href="/docs/intro">Cookbook</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/yothinix/dagster-testing-cookbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/welcome">Welcome</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/welcome">Welcome</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-10-06T00:00:00.000Z" itemprop="datePublished">October 6, 2022</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yothinix.com" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/689679?v=4" alt="Yothin Muangsommuk"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://yothinix.com" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Yothin Muangsommuk</span></a></div><small class="avatar__subtitle" itemprop="description">Data Engineer @ LINE Thailand</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Hi, here is the place I will tell you why I create this website. The whole idea start from this tweet</p><blockquote class="twitter-tweet"><p lang="und" dir="ltr">‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏ó‡πà‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏ó‡∏™‡∏Ç‡∏≠‡∏á Dagster ‡∏•‡∏∞ Dagster testing cookbook ‡πÑ‡∏£‡∏á‡∏µ‡πâ</p>‚Äî Yothin M üêç‚ú® (@yothinix) <a href="https://twitter.com/yothinix/status/1577936359192657920?ref_src=twsrc%5Etfw" target="_blank" rel="noopener noreferrer">October 6, 2022</a></blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><p>The story behind it was, I developing &quot;a sensor to trigger my partitioned data pipeline from an assets materialization&quot;. Since I was never use the sensor feature along with assets before, the first intuition that came up to my mind is to go for the Official Docs</p><p><img loading="lazy" alt="The Official document for sensor testing" src="/assets/images/testing-sensor-doc-b656afedfb965ff22115125c4af88931.png" width="3414" height="1390" class="img_ev3q"></p><p>It was good, clearly explain how to test a sensor in one block of code, but here is the problem. It often that when you develop something it was not straightforward like the example, It was build up on layer of layer of knowledge. Let see what I developing again one more time</p><ul><li>a sensor to trigger </li><li>my partitioned data pipeline </li><li>from an assets materialization</li></ul><p>The official docs only explain me the first part of the problem, For the two remain part is still no where to go for me here in the official doc, So I went to the second place I usually went to when I can not find things I want to know in Dagster, The Dagster Slack Community.</p><p><img loading="lazy" alt="The Dagster Community Slack" src="/assets/images/dagster-support-85e9f1e5f78f5f11126cbd05db2a8c0e.png" width="2772" height="2310" class="img_ev3q"></p><p>From there, I went go for search with a simple keyword that I know it cover what I want for my use case &quot;testing assets sensor&quot; and after skim down a bit I found a specific thread with the same problem to me. And Elementl team is support on the thread with the example which give me enough clue that as I understand, In order to test the assets sensor, I need to create the materialization event and to create event I need a job to be executed just like how we test the job.</p><p>This seems to solved the 3rd bullet of my problem, by the way I came to realize that my use case have one last problem, the &quot;partitioned data pipeline&quot; since I was not create an asset materialization through the assets graph but generate the event as part of the ops. </p><p>So after digging around the <code>build_assets_job</code> I came to realize that the normal job definition come with <code>execute_in_process</code> method already and I know how to use it! from there I go back to the official docs again and I know where I was looking for &quot;Testing Partitioned Jobs&quot;</p><p><img loading="lazy" alt="Testing partition" src="/assets/images/testing-partition-c5a8ba002e3de5c51d1b8d8bf7fdb6a7.png" width="1962" height="462" class="img_ev3q"></p><p>I learned that there is a <code>partition_key</code> argument I can pass to the method to create an execution for fixed partition, So all I need to do is to build a partition job execute it with <code>partition_key</code> and if the execution go well, then I should have an asset event which I can use for testing at first place.</p><p>The story end with I finally able to test the sensor as I want at first place, but then I look back at how I went through docs and community in order to achieve what I want. I came to realize that there will be another me to go through all of this again. </p><p>It was a good journey definitely I was learning things layer by layer, but if another me has a more complex layer than what I was went through I could save their time by providing a solution as I went through and they could focus on the remain problem.</p><p>Which is why I start this project, it can act like a set of specific recipe for specific problem and can help another me in the future to not digging through the same path like me again and focus on the remain problem with ease.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/editorial">editorial</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Yothin Muangsommuk. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.40ef6a86.js"></script>
<script src="/assets/js/main.7f46a8f6.js"></script>
</body>
</html>